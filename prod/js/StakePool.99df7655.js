(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["StakePool"],{"1afd":function(t,e,a){},"25f0":function(t,e,a){"use strict";var s=a("6eeb"),r=a("825a"),i=a("d039"),n=a("ad6d"),o="toString",c=RegExp.prototype,l=c[o],u=i((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=o;(u||d)&&s(RegExp.prototype,o,(function(){var t=r(this),e=String(t.source),a=t.flags,s=String(void 0===a&&t instanceof RegExp&&!("flags"in c)?n.call(t):a);return"/"+e+"/"+s}),{unsafe:!0})},2882:function(t,e,a){"use strict";var s=a("2be8"),r=a.n(s);r.a},"2be8":function(t,e,a){},"3f7a":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialog"},[a("el-dialog",{attrs:{center:"",top:"0","custom-class":"custom-dialog","destroy-on-close":"","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,visible:t.dialogVisible,width:t.width},on:{"update:visible":function(e){t.dialogVisible=e}}},[t._t("body"),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t._t("footer")],2)],2)],1)},r=[],i=a("5530"),n=a("2f62"),o={props:{width:{type:String,default:"400px"}},computed:Object(i["a"])({},Object(n["d"])(["dialogVisible"]))},c=o,l=(a("cdce"),a("2877")),u=Object(l["a"])(c,s,r,!1,null,null,null);e["a"]=u.exports},"7bc8":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pages-wrapper stake-pool"},[s("div",{staticClass:"content-top"},[s("el-card",{staticClass:"box-card left-card"},[s("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("Your Holdings")])]),s("ul",{staticClass:"ul-list"},[s("li",[s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("Locked")]),s("div",{staticClass:"right"},[s("span",[t._v(t._s(t.holdingsLocked))]),t._v("Nsure ")])])]),s("li",[s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("Delegate")]),s("div",{staticClass:"right"},[s("span",[t._v(t._s(t.delegate))]),t._v("Nsure ")])])]),s("li",[s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("Reward")]),s("div",{staticClass:"right"},[s("span",[t._v(t._s(t.reward))]),t._v("ETH ")])])])])]),s("el-card",{staticClass:"box-card right-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("Pool Locked Holdings")])]),s("ul",{staticClass:"ul-list"},[s("li",[s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("Total Supply")]),s("div",{staticClass:"right"},[s("span",[t._v(t._s(t.avail))]),t._v("Nsure ")])])]),s("li",[s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("Staked Supply")]),s("div",{staticClass:"right"},[s("span",[t._v(t._s(t.locked))]),t._v("Nsure ")])])]),s("li",[s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("Premium to share")]),s("div",{staticClass:"right"},[s("span",[t._v(t._s(t.earnings))]),t._v("ETH ")])])])])])],1),s("div",{staticClass:"Withdraw-wrapper"},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"Withdraw-wrapper-content"},[s("div",{staticClass:"button-wrapper"},[s("button",{staticClass:"button",on:{click:function(e){return t.open("Stake")}}},[t._v("Stake")]),s("button",{staticClass:"button",on:{click:t.getDividends}},[t._v("Dividends")])]),s("div",{staticClass:"button-wrapper"},[s("button",{staticClass:"button",on:{click:function(e){return t.open("Withdraw")}}},[t._v("Withdraw")]),t.withdrawal&&t.isTimes?s("button",{staticClass:"button",on:{click:t.doWithdraw}},[t._v("Do Withdraw")]):s("button",{staticClass:"button disabled"},[t._v("Do Withdraw")])])])])],1),s("Dialog",{attrs:{width:"400px"}},[s("div",{staticClass:"custom-dialog-body",attrs:{slot:"body"},slot:"body"},[s("div",{staticClass:"img-box"},[s("img",{attrs:{src:a("ffba"),width:"38",alt:""}})]),s("div",{staticClass:"dice-name"},[t._v("Nsure")]),s("div",{staticClass:"dice-input-box"},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],attrs:{type:"number",placeholder:"Amount in Nsure"},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}})])])]),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("button",{staticClass:"button close",on:{click:t.close}},[t._v("Close")]),"Stake"===t.dialogData.type?s("button",{staticClass:"button",on:{click:t.sumbit}},[t._v("Stake")]):t._e(),"Withdraw"===t.dialogData.type?s("button",{staticClass:"button",on:{click:t.sumbit}},[t._v("Withdraw")]):t._e()])])],1)},r=[],i=(a("a9e3"),a("d3b7"),a("25f0"),a("96cf"),a("1da1")),n=a("5530"),o=a("3f7a"),c=a("2f62"),l={name:"StakePool",data:function(){return{dialogData:{type:"",max:0},number:"",holdingsLocked:0,delegate:0,reward:0,avail:0,locked:0,earnings:0,withdrawal:0,pendingAtBlock:null,blockNumber:null,block21Days:120960}},components:{Dialog:o["a"]},computed:Object(n["a"])(Object(n["a"])({},Object(c["d"])(["balance","web3"])),{},{isTimes:function(){return!(!this.blockNumber||!this.pendingAtBlock)&&this.blockNumber-this.pendingAtBlock>=this.block21Days}}),mounted:function(){this.getPool(),this.getPoolBalancesFn(),this.getInvestorInfoFn(),this.getBlockNumber(),this.getShareOf()},methods:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(c["c"])(["UPDATE_DIALOG_VISBLE"])),Object(c["b"])(["getDividends","setApprove","pool","getPoolBalances","getInvestorInfo","shareOf","submitWithdrawProposal","doWithdraw"])),{},{open:function(t){var e=0;this.number="",e="Stake"===t?this.balance:10,this.dialogData={type:t,max:e},this.UPDATE_DIALOG_VISBLE(!0)},close:function(){this.UPDATE_DIALOG_VISBLE(!1),this.number="",this.dialogData={type:"",max:0}},getPool:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.pool();case 3:a=e.sent,t.avail=t.web3.utils.fromWei(a.avail),t.locked=t.web3.utils.fromWei(a.locked),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getPoolBalancesFn:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getPoolBalances();case 3:a=e.sent,t.earnings=t.web3.utils.fromWei(a[0]),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getInvestorInfoFn:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getInvestorInfo();case 3:a=e.sent,t.holdingsLocked=t.web3.utils.fromWei(a.withdrawal),t.delegate=t.web3.utils.fromWei(a.invest),t.withdrawal=t.web3.utils.fromWei(a.withdrawal),t.pendingAtBlock=Number(a.pendingAtBlock),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},getBlockNumber:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.web3.eth.getBlockNumber();case 3:t.blockNumber=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},getShareOf:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.shareOf();case 3:a=e.sent,s=t.web3.utils.fromWei(a[0])/t.web3.utils.fromWei(a[1]),t.reward=t.earnings*s,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},sumbit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=Number(t.number),0!==a){e.next=5;break}return console.log("等于0"),t.$message.error("Please enter number frist"),e.abrupt("return");case 5:if(!(a<0)){e.next=9;break}return console.log("小于0"),t.$message.error("Must be greater than 0"),e.abrupt("return");case 9:if(s=t.web3.utils.toWei(a.toString()),e.prev=10,t.UPDATE_DIALOG_VISBLE(!1),"Stake"!==t.dialogData.type){e.next=18;break}return e.next=15,t.setApprove(s);case 15:t.close(),e.next=22;break;case 18:if("Withdraw"!==t.dialogData.type){e.next=22;break}return e.next=21,t.submitWithdrawProposal(s);case 21:t.close();case 22:e.next=27;break;case 24:e.prev=24,e.t0=e["catch"](10),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[10,24]])})))()}})},u=l,d=(a("2882"),a("2877")),v=Object(d["a"])(u,s,r,!1,null,"14130686",null);e["default"]=v.exports},cdce:function(t,e,a){"use strict";var s=a("1afd"),r=a.n(s);r.a}}]);
//# sourceMappingURL=StakePool.99df7655.js.map